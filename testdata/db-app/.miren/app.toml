name = "db-app"

# POSTGRES_HOST_AUTH_METHOD is required for the postgres container to work without password
[[env]]
key = "POSTGRES_HOST_AUTH_METHOD"
value = "trust"

[services.postgres]
image = "postgres:15"

[services.postgres.concurrency]
mode = "fixed"
num_instances = 1

# Persistent disk for PostgreSQL data
[[services.postgres.disks]]
name = "postgres-data"
mount_path = "/var/lib/postgresql"
size_gb = 10
filesystem = "ext4"
lease_timeout = "5m"
